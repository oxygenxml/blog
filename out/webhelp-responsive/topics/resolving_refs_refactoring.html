<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" data-whc_version="27.1">
    <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="We needed a way to resolve DITA &lt;xref&gt; and &lt;link&gt; elements to their target element in a refactoring operation. We also needed to determine whether the link was a local or peer-map reference. ..."/><meta name="DC.rights.owner" content="(C) Copyright 2025"/><meta name="copyright" content="(C) Copyright 2025"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.creator" content="Chris Papademetrious"/><meta name="DC.date.created" content="2023-07-28"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="resolving_refs_refactoring"/><title>Resolving DITA Cross-References in Refactoring Operations</title><!--  Generated with Oxygen version 27.1, build number 2025032023.  --><meta name="wh-path2root" content="../"/><meta name="wh-toc-id" content="resolving_refs_refactoring-d1655e1382"/><meta name="wh-source-relpath" content="topics/resolving_refs_refactoring.dita"/><meta name="wh-out-relpath" content="topics/resolving_refs_refactoring.html"/>

    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/commons.css?buildId=2025032023"/>
    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic.css?buildId=2025032023"/>

    <script src="../oxygen-webhelp/app/options/properties.js?buildId=20250825130822"></script>
    <script src="../oxygen-webhelp/app/localization/strings.js?buildId=2025032023"></script>
    <script src="../oxygen-webhelp/app/search/index/keywords.js?buildId=20250825130822"></script>
    <script defer="defer" src="../oxygen-webhelp/app/commons.js?buildId=2025032023"></script>
    <script defer="defer" src="../oxygen-webhelp/app/topic.js?buildId=2025032023"></script>
<link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/oxygen.css?buildId=2025032023"/><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/custom.css?buildId=2025032023"/>
        <link rel="icon" href="https://www.oxygenxml.com/favicon.ico" type="image/x-icon"/>
        <link rel="shortcut icon" href="https://www.oxygenxml.com/favicon.ico" type="image/x-icon"/>
        <link rel="alternate" type="application/rss+xml" title="RSS 1.0" href="/rss.xml"/>
    <script defer="true" src="../oxygen-webhelp/template/resources/js/custom-collapsed-sections.js"></script></head>

    <body id="resolving_refs_refactoring" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="visually-hidden visually-hidden-focusable">
            Jump to main content
        </a>
        
        
        <progress value="0" id="progressBar"><div class="progress-container"><span class="progress-bar"></span></div></progress>
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid navbar-expand-md">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="../index.html" class=" wh_logo d-none d-sm-block "><img src="../oxygen-webhelp/template/resources/images/oxygen_logo.png" alt="Blog"/></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Blog</span></a></div>
                    
                </div>
                
                <button type="button" data-bs-target="#wh_top_menu_and_indexterms_link" id="wh_menu_mobile_button" data-bs-toggle="collapse" class="navbar-toggler collapsed wh_toggle_button" aria-expanded="false" aria-label="Toggle menu" aria-controls="wh_top_menu_and_indexterms_link">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                <nav class=" wh_top_menu " aria-label="Menu Container"><ul role="menubar" aria-label="Menu"><li role="menuitem"><span id="welcome-d1655e11-mi" data-tocid="welcome-d1655e11" data-state="leaf" class=" topicref " data-id="welcome"><span class="title"><a href="../topics/welcome.html">Welcome! </a></span></span></li><li role="menuitem"><span id="frequently_asked_questions-d1655e28-mi" data-tocid="frequently_asked_questions-d1655e28" data-state="leaf" class=" topicref " data-id="frequently_asked_questions"><span class="title"><a href="../topics/frequently_asked_questions.html">Frequently Asked Questions</a></span></span></li><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="tocId-d1655e37-mi" data-tocid="tocId-d1655e37" data-state="not-ready" class=" topicref "><span class="title"><a href="../topics/ai_positron.html">Artificial intelligence (AI)</a></span></span></li><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="tocId-d1655e174-mi" data-tocid="tocId-d1655e174" data-state="not-ready" class=" topicref "><span class="title"><a href="../topics/dita-xml-editing-collaboration-and-publishing-overview.html">DITA</a></span></span></li><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="migration-d1655e1407-mi" data-tocid="migration-d1655e1407" data-state="not-ready" class=" topicref " data-id="migration"><span class="title"><a href="../topics/migration.html">Migrate</a></span></span></li><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="using_git_for_technical_writing-d1655e1504-mi" data-tocid="using_git_for_technical_writing-d1655e1504" data-state="not-ready" class=" topicref " data-id="using_git_for_technical_writing"><span class="title"><a href="../git-tech-writers/using_git_for_technical_writing.html">Using Git For Technical Writing</a></span></span></li><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="sdk-d1655e1664-mi" data-tocid="sdk-d1655e1664" data-state="not-ready" class=" topicref " data-id="sdk"><span class="title"><a href="../topics/sdk.html">SDK</a></span></span></li><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="tocId-d1655e1808-mi" data-tocid="tocId-d1655e1808" data-state="not-ready" class=" topicref "><span class="title"><a href="../topics/transform_text_files.html">Development</a></span></span></li><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="tocId-d1655e1827-mi" data-tocid="tocId-d1655e1827" data-state="not-ready" class=" topicref "><span class="title"><a href="../topics/ISO-27001-certification-announcement.html">Miscellaneous</a></span></span></li></ul></nav>
                <div class=" wh_indexterms_link "><a href="../indexTerms.html" title="Index" aria-label="Go to index terms page"><span>Index</span></a></div>
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/></div></form><span xmlns="" class="glyphicon glyphicon-search icn_qSearch" id="icn_qSearch"></span><span xmlns="" class="glyphicon glyphicon-remove icn_qSearch_remove" id="icn_qSearch_remove"></span>
            
            
            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid navbar-expand-md" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../index.html"><span>Home</span></a></span></li><li><div class="topicref"><div class="title"><a href="../topics/dita-xml-editing-collaboration-and-publishing-overview.html">DITA</a></div></div></li><li><div class="topicref"><div class="title"><a href="../topics/oxygen_xml_as_a_technical_documentation_solution_faq.html">Other</a></div></div></li><li><div class="topicref"><div class="title"><a href="../topics/sort_glossentries.html">Refactoring</a></div></div></li><li class="active"><div class="topicref" data-id="resolving_refs_refactoring"><div class="title"><a href="../topics/resolving_refs_refactoring.html">Resolving DITA Cross-References in Refactoring Operations</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
	                            <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
		                            <span class="close-toc-icon-container">
		                                <span class="close-toc-icon"></span>     
		                            </span>
		                        </button>
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="welcome-d1655e11" class="topicref" data-id="welcome" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/welcome.html" id="welcome-d1655e11-link">Welcome! </a></div></div></li><li role="treeitem"><div data-tocid="frequently_asked_questions-d1655e28" class="topicref" data-id="frequently_asked_questions" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/frequently_asked_questions.html" id="frequently_asked_questions-d1655e28-link">Frequently Asked Questions</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d1655e37" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d1655e37-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/ai_positron.html" id="tocId-d1655e37-link">Artificial intelligence (AI)</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d1655e174" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d1655e174-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/dita-xml-editing-collaboration-and-publishing-overview.html" id="tocId-d1655e174-link">DITA</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="dita-xml-editing-collaboration-and-publishing-overview-d1655e175" class="topicref" data-id="dita-xml-editing-collaboration-and-publishing-overview" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/dita-xml-editing-collaboration-and-publishing-overview.html" id="dita-xml-editing-collaboration-and-publishing-overview-d1655e175-link">DITA XML Editing, Collaboration and Publishing Overview</a><div class="wh-tooltip"><p class="shortdesc">Oxygen XML provides a wide  range of features for editing, reusing, profiling,         reviewing, and publishing DITA XML content. We strive to offer a complete editing,         collaboration package which is still flexible enough to be customized for a variety of use         cases.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="learningDITAGeneral-d1655e186" class="topicref" data-id="learningDITAGeneral" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action learningDITAGeneral-d1655e186-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/learningDITAGeneral.html" id="learningDITAGeneral-d1655e186-link">Learning</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="dita_ot_publishing_customizations_overview-d1655e875" class="topicref" data-id="dita_ot_publishing_customizations_overview" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action dita_ot_publishing_customizations_overview-d1655e875-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/dita_ot_publishing_customizations_overview.html" id="dita_ot_publishing_customizations_overview-d1655e875-link">Publishing Customizations</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="dita_editing_customizations-d1655e1156" class="topicref" data-id="dita_editing_customizations" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action dita_editing_customizations-d1655e1156-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/dita-editing-customizations.html" id="dita_editing_customizations-d1655e1156-link">Editing Customizations</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d1655e1227" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d1655e1227-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/oxygen_xml_as_a_technical_documentation_solution_faq.html" id="tocId-d1655e1227-link">Other</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="oxygen_xml_as_a_technical_documentation_solution_faq-d1655e1228" class="topicref" data-id="oxygen_xml_as_a_technical_documentation_solution_faq" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/oxygen_xml_as_a_technical_documentation_solution_faq.html" id="oxygen_xml_as_a_technical_documentation_solution_faq-d1655e1228-link">Oxygen XML As a Technical Documentation Solution FAQ</a><div class="wh-tooltip"><p class="shortdesc">This topic covers some of the most frequent questions we get from technical         documentation writer teams willing to investigate the <strong class="ph b">Oxygen XML</strong> set of tools as a         possible solution for writing and publishing content.</p></div></div></div></li><li role="treeitem"><div data-tocid="dita_for_small_teams-d1655e1242" class="topicref" data-id="dita_for_small_teams" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/dita_for_small_teams.html" id="dita_for_small_teams-d1655e1242-link">DITA For Small Technical Documentation Teams</a></div></div></li><li role="treeitem"><div data-tocid="types_of_companies_which_would_benefit_from_the_dita_xml_standard-d1655e1250" class="topicref" data-id="types_of_companies_which_would_benefit_from_the_dita_xml_standard" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/types_of_companies_which_would_benefit_from_the_dita_xml_standard.html" id="types_of_companies_which_would_benefit_from_the_dita_xml_standard-d1655e1250-link">Types Of Companies Who Would Benefit From Using the DITA XML Standard</a></div></div></li><li role="treeitem"><div data-tocid="helping_the_dita_ot_project-d1655e1258" class="topicref" data-id="helping_the_dita_ot_project" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/supporting_the_dita_ot_project.html" id="helping_the_dita_ot_project-d1655e1258-link">Supporting the DITA OT Project as a Commercial Company</a></div></div></li><li role="treeitem"><div data-tocid="dita_map_metrics_evolution-d1655e1266" class="topicref" data-id="dita_map_metrics_evolution" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/dita_map_metrics_evolution.html" id="dita_map_metrics_evolution-d1655e1266-link">DITA Map Metrics Evolution</a></div></div></li><li role="treeitem"><div data-tocid="topic_twx_tyf_2hb-d1655e1274" class="topicref" data-id="topic_twx_tyf_2hb" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/oxygen-dita-strong-points.html" id="topic_twx_tyf_2hb-d1655e1274-link"><span class="ph">Oxygen XML Editor</span> DITA Editing solution strong points.</a></div></div></li><li role="treeitem"><div data-tocid="dita_oriented_tips_and_tricks-d1655e1284" class="topicref" data-id="dita_oriented_tips_and_tricks" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/dita_oriented_tips_and_tricks.html" id="dita_oriented_tips_and_tricks-d1655e1284-link">DITA Oriented Tips And Tricks</a></div></div></li><li role="treeitem"><div data-tocid="dita_project_enhancements-d1655e1292" class="topicref" data-id="dita_project_enhancements" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/dita_project_enhancements.html" id="dita_project_enhancements-d1655e1292-link">DITA Project Enhancements</a></div></div></li><li role="treeitem"><div data-tocid="translating_your_dita_project-d1655e1300" class="topicref" data-id="translating_your_dita_project" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/translating_your_dita_project.html" id="translating_your_dita_project-d1655e1300-link">Translating your DITA Project</a></div></div></li><li role="treeitem"><div data-tocid="topic_mp2_l4q_g5-d1655e1308" class="topicref" data-id="topic_mp2_l4q_g5" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/validateCheckForCompletness.html" id="topic_mp2_l4q_g5-d1655e1308-link">DITA Map Validate and Check for Completeness Overview</a></div></div></li><li role="treeitem"><div data-tocid="topic_hkx_gzc_cs-d1655e1316" class="topicref" data-id="topic_hkx_gzc_cs" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/SchematronBCs.html" id="topic_hkx_gzc_cs-d1655e1316-link">Schematron Checks to help Technical Writing</a></div></div></li><li role="treeitem"><div data-tocid="topic_n3v_s5r_2v-d1655e1325" class="topicref" data-id="topic_n3v_s5r_2v" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/styleguide.html" id="topic_n3v_s5r_2v-d1655e1325-link">Implementing your own Style Guide</a></div></div></li><li role="treeitem"><div data-tocid="preprocessing_ditaot_project_files-d1655e1333" class="topicref" data-id="preprocessing_ditaot_project_files" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/preprocessing_ditaot_project_files.html" id="preprocessing_ditaot_project_files-d1655e1333-link">Preprocessing DITA-OT Project Files</a></div></div></li><li role="treeitem"><div data-tocid="re_10_reasons_for_moving_away_from_dita-d1655e1341" class="topicref" data-id="re_10_reasons_for_moving_away_from_dita" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/re_10_reasons_for_moving_away_from_dita.html" id="re_10_reasons_for_moving_away_from_dita-d1655e1341-link">Re: 10 reasons for moving away from DITA </a></div></div></li><li role="treeitem"><div data-tocid="dita_2_0_specification_support_cheet_sheet-d1655e1349" class="topicref" data-id="dita_2_0_specification_support_cheet_sheet" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/dita_2_0_specification_support_cheat_sheet.html" id="dita_2_0_specification_support_cheet_sheet-d1655e1349-link">DITA 2.0 Specification Support Cheat Sheet</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d1655e1357" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d1655e1357-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/sort_glossentries.html" id="tocId-d1655e1357-link">Refactoring</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="topic_eph_k3j_kcb-d1655e1358" class="topicref" data-id="topic_eph_k3j_kcb" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/sort_glossentries.html" id="topic_eph_k3j_kcb-d1655e1358-link">Sorting Glossary Lists in a DITA Bookmap</a></div></div></li><li role="treeitem"><div data-tocid="topic_cs4_cvh_px-d1655e1366" class="topicref" data-id="topic_cs4_cvh_px" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/replace-image-href-keyref.html" id="topic_cs4_cvh_px-d1655e1366-link">Replacing Direct Image References with Key References in a DITA Project.</a></div></div></li><li role="treeitem"><div data-tocid="deleting_elements_in_a_refactoring_operation-d1655e1374" class="topicref" data-id="deleting_elements_in_a_refactoring_operation" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/deleting_elements_in_refactoring.html" id="deleting_elements_in_a_refactoring_operation-d1655e1374-link">Deleting Elements in a Refactoring Operation</a></div></div></li><li role="treeitem" class="active"><div data-tocid="resolving_refs_refactoring-d1655e1382" class="topicref" data-id="resolving_refs_refactoring" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/resolving_refs_refactoring.html" id="resolving_refs_refactoring-d1655e1382-link">Resolving DITA Cross-References in Refactoring Operations</a></div></div></li><li role="treeitem"><div data-tocid="refactoring_inserting_reformatting-d1655e1390" class="topicref" data-id="refactoring_inserting_reformatting" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/refactoring_inserting_reformatting.html" id="refactoring_inserting_reformatting-d1655e1390-link">Inserting and Reformatting Content in Refactoring Operations</a></div></div></li></ul></li><li role="treeitem"><div data-tocid="similarities_tech_docs_soft_engs-d1655e1398" class="topicref" data-id="similarities_tech_docs_soft_engs" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/similarities_tech_docs_soft_engs.html" id="similarities_tech_docs_soft_engs-d1655e1398-link">Similarities Between Technical Doc Writers and Software Engineers</a></div></div></li></ul></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="migration-d1655e1407" class="topicref" data-id="migration" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action migration-d1655e1407-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/migration.html" id="migration-d1655e1407-link">Migrate</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="using_git_for_technical_writing-d1655e1504" class="topicref" data-id="using_git_for_technical_writing" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action using_git_for_technical_writing-d1655e1504-link" class="wh-expand-btn"></span><div class="title"><a href="../git-tech-writers/using_git_for_technical_writing.html" id="using_git_for_technical_writing-d1655e1504-link">Using Git For Technical Writing</a><div class="wh-tooltip"><p class="shortdesc">The <strong class="ph b">Git</strong> version control system is a feasible solution for working and 		collaborating on technical documentation projects regardless of their scale and number of 		resources. </p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sdk-d1655e1664" class="topicref" data-id="sdk" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sdk-d1655e1664-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/sdk.html" id="sdk-d1655e1664-link">SDK</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d1655e1808" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d1655e1808-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/transform_text_files.html" id="tocId-d1655e1808-link">Development</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d1655e1827" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d1655e1827-link" class="wh-expand-btn"></span><div class="title"><a href="../topics/ISO-27001-certification-announcement.html" id="tocId-d1655e1827-link">Miscellaneous</a></div></div></li><li role="treeitem"><div data-tocid="contributors-d1655e2008" class="topicref" data-id="contributors" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../topics/contributors.html" id="contributors-d1655e2008-link">Contributors</a></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1">
    <span class="edit-link" style="font-size:12px; opacity:0.6; text-align:right; vertical-align:middle"><a target="_blank" title="Edit this document" href="https://www.oxygenxml.com/oxygen-xml-web-author/app/oxygen.html?url=gitgh%3A%2F%2Fhttps%253A%252F%252Fgithub.com%252Foxygenxml%252Fblog%2Fmaster%2Ftopics%2Fresolving_refs_refactoring.dita&amp;ditamap=gitgh%3A%2F%2Fhttps%253A%252F%252Fgithub.com%252Foxygenxml%252Fblog%2Fmaster%2Foxygen_xml_blog.ditamap&amp;dita.val.url=gitgh%3A%2F%2Fhttps%253A%252F%252Fgithub.com%252Foxygenxml%252Fblog%2F..%2F..%2FC%3A%2FUsers%2Fmihai%2FAppData%2FLocal%2FTemp%2FOxygenXMLTemp%2Foxy_ditaVal12757752844402397689.ditaval">Edit online</a></span><h1 class="- topic/title title topictitle1" id="ariaid-title1">Resolving DITA Cross-References in Refactoring Operations</h1>
    <div class="author inPage Chris_Papademetrious"><a href="/topics/contributors.html">Chris Papademetrious</a></div><div class="date inPage">28 Jul 2023</div><div style="color: gray;">
            Read time: 7 minute(s)
        </div>
    <div class="- topic/body body">
        <p class="- topic/p p">We needed a way to resolve DITA <code class="+ topic/ph pr-d/codeph ph codeph">&lt;xref&gt;</code> and <code class="+ topic/ph pr-d/codeph ph codeph">&lt;link&gt;</code>
            elements to their target element in a refactoring operation. We also needed to determine
            whether the link was a local or peer-map reference. Fortunately, Oxygen v25.1 provided
            us with the solution!</p>
        <section class="- topic/section section" id="resolving_refs_refactoring__section_kmq_l2m_gyb" data-ofbid="resolving_refs_refactoring__section_kmq_l2m_gyb"><h2 class="- topic/title title sectiontitle">The Missing Piece - Resolving a @keyref</h2>
            
            <p class="- topic/p p">For <code class="+ topic/ph pr-d/codeph ph codeph">&lt;xref&gt;</code> and <code class="+ topic/ph pr-d/codeph ph codeph">&lt;link&gt;</code> elements, we use a mix
                of <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@href</code> and <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@keyref</code> references in our content. In
                XSLT refactoring operations, we could resolve <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@href</code> references to
                the target file (and optionally, an element in that file) by using the XPath
                    <code class="+ topic/ph pr-d/codeph ph codeph">document()</code> function. However, we had no way of resolving
                    <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@keyref</code> references because a refactoring operation only
                processes the current file (it doesn't consider Oxygen's map context or the keys
                defined within it). In addition, writing such a resolver in XSLT that properly
                considers keyscopes would be enormously difficult.</p>
        </section>
        <p class="- topic/p p">In the Oxygen v25.1 release, <a class="- topic/xref xref" href="https://www.oxygenxml.com/InstData/Editor/SDK/javadoc/ro/sync/ecss/dita/extensions/DITAXSLTExtensionFunctionUtil.html" target="_blank" rel="external noopener">new API functions</a> were introduced to provide
            information about <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@keyref</code> references:</p>
        <ul class="- topic/ul ul" id="resolving_refs_refactoring__ul_k2r_ydm_gyb" data-ofbid="resolving_refs_refactoring__ul_k2r_ydm_gyb">
            <li class="- topic/li li">
                <p class="- topic/p p">The <code class="+ topic/ph pr-d/codeph ph codeph">getKeyRefInfo()</code> function returns information about a
                    reference's type (local, peer, unresolved, and so on).</p>
            </li>
            <li class="- topic/li li">
                <p class="- topic/p p">The <code class="+ topic/ph pr-d/codeph ph codeph">getKeyRefAbsoluteReference()</code> function resolves a
                        <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@keyref</code> to its equivalent <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@href</code> reference
                    URL.</p>
            </li>
        </ul>
        <div class="- topic/note note note note_note" id="resolving_refs_refactoring__note_j2y_khm_gyb" data-ofbid="resolving_refs_refactoring__note_j2y_khm_gyb"><span class="note__title">Note:</span> <div class="note__body">
            <p class="- topic/p p">There were subsequent improvements to the API functions in Oxygen v25.1 build
                2023070306, so you should use that release or later for best results.</p>
        </div></div>
        <p class="- topic/p p">Thanks to this new API, we could use a simple <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@href</code> resolver written in
            XSLT for <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@keyref</code> references too!</p>
        <section class="- topic/section section" id="resolving_refs_refactoring__section_wkw_skm_gyb" data-ofbid="resolving_refs_refactoring__section_wkw_skm_gyb"><h2 class="- topic/title title sectiontitle">Resolving Cross-References in Refactoring Operations</h2>
            
            <p class="- topic/p p">The attached test case provides the following XSLT file that you can include in your
                own refactoring operations:</p>
            <p class="- topic/p p"><span class="+ topic/ph sw-d/filepath ph filepath">frameworks/dita/refactoring/util-get-referenced-element.xsl</span></p>
            <p class="- topic/p p">This file defines a <code class="+ topic/ph pr-d/codeph ph codeph">mode="get-referenced-element"</code> template that,
                when applied to <em class="+ topic/ph hi-d/i ph i">any</em> element with an <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@href</code> or
                    <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@keyref</code> attribute, returns the referenced element. If the
                reference cannot be resolved, the template returns an empty sequence.</p>
            <p class="- topic/p p">The template works as follows:</p>
            <ol class="- topic/ol ol" id="resolving_refs_refactoring__ul_m1k_2mm_gyb" data-ofbid="resolving_refs_refactoring__ul_m1k_2mm_gyb">
                <li class="- topic/li li">
                    <p class="- topic/p p">References with <code class="+ topic/ph pr-d/codeph ph codeph"><code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@scope</code>="external"</code> always
                        return an empty sequence.</p>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p">References with <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@format</code> set to a value other than
                            <code class="+ topic/ph pr-d/codeph ph codeph">"dita"</code> always return an empty sequence.</p>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p">If the reference has a <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@keyref</code>, it is converted to an
                            <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@href</code> value using
                            <code class="+ topic/ph pr-d/codeph ph codeph">getKeyRefAbsoluteReference()</code>.</p>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p">The <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@href</code> value is parsed into its components as follows:</p>
                    <p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">[<var class="+ topic/keyword sw-d/varname keyword varname">file</var>]#<var class="+ topic/keyword sw-d/varname keyword varname">topic_id</var>[/<var class="+ topic/keyword sw-d/varname keyword varname">element_id</var>]</code></p>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p">The target document is obtained as follows:</p>
                    <ul class="- topic/ul ul" id="resolving_refs_refactoring__ul_msn_34m_gyb" data-ofbid="resolving_refs_refactoring__ul_msn_34m_gyb">
                        <li class="- topic/li li">
                            <p class="- topic/p p">If no <var class="+ topic/keyword sw-d/varname keyword varname">file</var> is specified, the in-memory document
                                that contains the cross-reference element is used.</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">If a <var class="+ topic/keyword sw-d/varname keyword varname">file</var> is specified and that file contains the
                                cross-reference element, the in-memory document that contains the
                                cross-reference element is used.</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">Otherwise, the specified file document is loaded from disk using the
                                XPath <code class="+ topic/ph pr-d/codeph ph codeph">document()</code> function.</p>
                        </li>
                    </ul>
                    <p class="- topic/p p">This heuristic approach ensures that in multiple-pass refactoring operations,
                        the in-memory version of the content is preferred over the on-disk
                        version.</p>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p">The topic that matches the <var class="+ topic/keyword sw-d/varname keyword varname">topic_id</var> value is obtained from
                        the target document.</p>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p">If an <var class="+ topic/keyword sw-d/varname keyword varname">element_id</var> is specified, the element in the topic
                        that matches the <var class="+ topic/keyword sw-d/varname keyword varname">element_id</var> value is obtained.</p>
                    <p class="- topic/p p">Because non-topic <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@id</code> values do not need to be unique, the
                        code ensures that no subtopics within the matching topic are searched to
                        avoid incorrect matches.</p>
                </li>
            </ol>
            <p class="- topic/p p">To view the XSLT stylesheet without downloading the archive, click on the following
                link:</p>
            <p class="- topic/p p"><a class="- topic/xref xref" href="resolving_refs_refactoring/util-get-referenced-element.xsl">util-get-referenced-element.xsl</a></p>
            <p class="- topic/p p">There are comments in the code to explain how it works.</p>
            <p class="- topic/p p">The <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@keyref</code> API functions require that a map context be active in
                Oxygen. If no context is available (for example, no map is open in the
                    <span class="+ topic/ph ui-d/uicontrol ph uicontrol">DITA Maps Manager</span>), there will be no key information
                available to resolve the reference.</p>
        </section>
        <section class="- topic/section section" id="resolving_refs_refactoring__section_klm_crm_gyb" data-ofbid="resolving_refs_refactoring__section_klm_crm_gyb"><h2 class="- topic/title title sectiontitle">Example Test Case</h2>
            
            <p class="- topic/p p">The following Oxygen project provides examples of how cross-reference resolutions can
                be used in refactoring operations and Schematron checks:</p>
            <p class="- topic/p p"><a class="- topic/xref xref" href="resolving_refs_refactoring/resolving_refs_refactoring.zip">resolving_refs_refactoring.zip</a></p>
            <p class="- topic/p p">Specifically, it provides the following:</p>
            <ul class="- topic/ul ul" id="resolving_refs_refactoring__ul_jym_grm_gyb" data-ofbid="resolving_refs_refactoring__ul_jym_grm_gyb">
                <li class="- topic/li li">
                    <p class="- topic/p p">An "Update Cross References" refactoring operation is provided that:</p>
                    <ul class="- topic/ul ul" id="resolving_refs_refactoring__ul_dgs_mrm_gyb" data-ofbid="resolving_refs_refactoring__ul_dgs_mrm_gyb">
                        <li class="- topic/li li">
                            <p class="- topic/p p">Sets (or updates) the <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@type</code> attribute for
                                    <code class="+ topic/keyword markup-d/markupname xml-d/xmlelement keyword markupname xmlelement">&lt;xref&gt;</code> and <code class="+ topic/keyword markup-d/markupname xml-d/xmlelement keyword markupname xmlelement">&lt;link&gt;</code>
                                elements.</p>
                            <br/><img class="- topic/image image" id="resolving_refs_refactoring__image_kc3_nnn_gyb" src="resolving_refs_refactoring/refactoring_setting_type_attributes.png"/><br/>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">Populates the target text for <code class="+ topic/keyword markup-d/markupname xml-d/xmlelement keyword markupname xmlelement">&lt;xref&gt;</code> and
                                    <code class="+ topic/keyword markup-d/markupname xml-d/xmlelement keyword markupname xmlelement">&lt;link&gt;</code> elements that reference topics in
                                peer maps (i.e. cross-book links).</p>
                            <br/><img class="- topic/image image" id="resolving_refs_refactoring__image_q3x_spn_gyb" src="resolving_refs_refactoring/refactoring_target_text.png"/><br/>
                        </li>
                    </ul>
                </li>
                <li class="- topic/li li">
                    <p class="- topic/p p">Schematron checks are provided that:</p>
                    <ul class="- topic/ul ul" id="resolving_refs_refactoring__ul_x5h_bsm_gyb" data-ofbid="resolving_refs_refactoring__ul_x5h_bsm_gyb">
                        <li class="- topic/li li">
                            <p class="- topic/p p">Warn about <code class="+ topic/keyword markup-d/markupname xml-d/xmlelement keyword markupname xmlelement">&lt;xref&gt;</code> and
                                    <code class="+ topic/keyword markup-d/markupname xml-d/xmlelement keyword markupname xmlelement">&lt;link&gt;</code> elements that reference topics in
                                peer maps (i.e. cross-book links) but do not contain any target
                                text.</p>
                            <br/><img class="- topic/image image" id="resolving_refs_refactoring__image_yhp_nmn_gyb" src="resolving_refs_refactoring/schematron_warn_missing_target_text.png"/><br/>
                            <p class="- topic/p p">This check also offers a "quick fix" that populates the target text
                                for you.</p>
                        </li>
                        <li class="- topic/li li">
                            <p class="- topic/p p">Show the value of the <code class="+ topic/ph pr-d/codeph ph codeph">getKeyRefInfo()</code> and
                                    <code class="+ topic/ph pr-d/codeph ph codeph">getKeyRefAbsoluteReference()</code> API calls for any
                                element with a <code class="+ topic/keyword markup-d/markupname xml-d/xmlatt keyword markupname xmlatt">@keyref</code> attribute.</p>
                            <br/><img class="- topic/image image" id="resolving_refs_refactoring__image_xrk_vln_gyb" src="resolving_refs_refactoring/showing_API_values.png"/><br/>
                            <p class="- topic/p p">These informational checks are commented out by default. You can
                                uncomment them in the following file:</p>
                            <p class="- topic/p p"><span class="+ topic/ph sw-d/filepath ph filepath">frameworks/dita/sch/checks.sch</span></p>
                        </li>
                    </ul>
                </li>
            </ul>
            <p class="- topic/p p">When target text is added to a peer map (cross-book) reference, an
                    <code class="+ topic/keyword markup-d/markupname xml-d/xmlelement keyword markupname xmlelement">&lt;?oxy-peertext?&gt;</code> processing instruction is added to
                indicate that the text was updated automatically. If you remove this processing
                instruction and customize the target text, your customized text will not be
                disturbed by future automatic updates.</p>
        </section>
    </div>
</article></main></div>
                        
                        
                        
                        
                        <div id="oxygen-feedback-frame-container">
    <script defer="defer" id="feedback-init" src="https://feedback.oxygenxml.com/app/init/init.js?deploymentToken=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJkZXBsb3ltZW50SWQiOjYyNX0.8cbUvwq4kXkiqS4uSdYU7NW33X_2PFhbjWI6AluOEJ1xI4JkXzYTXZLEtqRn72rzxIMXEQrSs1_xfGzoKvsYMQ"><!-- --></script>
</div>
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
              	                <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
		                            <span class="close-toc-icon-container">
		                                <span class="close-toc-icon"></span>     
		                            </span>
		                        </button>
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">On this page</div><ul><li class="section-item"><div class="section-title"><a href="#resolving_refs_refactoring__section_kmq_l2m_gyb" data-tocid="resolving_refs_refactoring__section_kmq_l2m_gyb">The Missing Piece - Resolving a @keyref</a></div></li><li class="section-item"><div class="section-title"><a href="#resolving_refs_refactoring__section_wkw_skm_gyb" data-tocid="resolving_refs_refactoring__section_wkw_skm_gyb">Resolving Cross-References in Refactoring Operations</a></div></li><li class="section-item"><div class="section-title"><a href="#resolving_refs_refactoring__section_klm_crm_gyb" data-tocid="resolving_refs_refactoring__section_klm_crm_gyb">Example Test Case</a></div></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
    
        <div class="footer-container container mx-auto">
            <div class="row align-items-center text-center text-md-start">
                <div class="col-md-3 mb-3 mb-md-0" id="quick_links">
                    <a href="https://www.facebook.com/oxygenxml/" class="lk-facebook me-2" title="Facebook" target="_blank">
                        <img src="/oxygen-webhelp/template/resources/images/facebook.png" alt="Facebook"/>
                    </a>
                    <a href="https://www.youtube.com/user/oxygenxml" class="lk-youtube me-2" title="Youtube Channel" target="_blank">
                        <img src="/oxygen-webhelp/template/resources/images/you-tube.png" alt="YouTube"/>
                    </a>
                    <a href="http://twitter.com/oxygenxml" class="lk-blog me-2" title="Twitter" target="_blank">
                        <img src="/oxygen-webhelp/template/resources/images/twitter.png" alt="Twitter"/>
                    </a>
                    <a href="https://www.linkedin.com/company/syncro-soft" class="lk-blog" title="Linkedin" target="_blank">
                        <img src="/oxygen-webhelp/template/resources/images/linkedin.png" alt="LinkedIn"/>
                    </a>
                </div>
                
                <div class="col-md-5 mb-3 mb-md-0" id="copy">
                    © 2002-2025 SyncRO Soft SRL. All rights reserved.
                    <div>
                        <p>This website is powered by Oxygen<sup>®</sup> 
                            <a href="https://www.oxygenxml.com/xml_webhelp.html">XML WebHelp</a>
                        </p>
                    </div>
                </div>
                
                <div class="col-md-1 mb-3 mb-md-0 b-subscribe">
                    <a href="/#follow-it" class="btn get-started">Subscribe</a>
                </div>
                
                <div class="col-md-3 b-flavours">
                    <a type="application/rss+xml" class="me-2" href="/rss.xml">RSS</a>
                    <a class="me-2" href="/oxygen_xml_blog.pdf">PDF</a>
                    <a href="/oxygen_xml_blog.epub">EPUB</a>
                </div>
            </div>
        </div>
        
        <script src="/oxygen-webhelp/template/resources/js/search-nav.js" defer="defer"></script>
        
        <script><!--

            document.querySelector(".get-started")?.addEventListener("click", function () {
            const el = document.querySelector(".stripe-latest-posts");
            if (el) {
            window.scrollTo({
            top: el.offsetTop - 90,
            behavior: "smooth"
            });
            }
            });
        
--></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-D4W3NZKJST" integrity="sha384-8klDZJT6xp3MWmbFq1S4K0+Phpnxe5BXVjrHKHWKEMPG06CzApoUqFnULJ+tdS30" crossorigin="anonymous"><!--

        
--></script>
        <script><!--

            window.dataLayer = window.dataLayer || [];
            function gtag(){ dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-D4W3NZKJST');
        
--></script>
</div>
  </div>
</footer>
        
        <button id="go2top" class="d-print-none" title="Go to top">
            <span class="oxy-icon oxy-icon-up"></span>
        </button>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        <div>
   <!-- <script src="${oxygen-webhelp-template-dir}/resources/js/syncro.js"></script>-->
    <script src="/oxygen-webhelp/template/resources/js/search-nav.js"></script>
    
</div>
    </body>
</html>